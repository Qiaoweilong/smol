"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{44251:function(e,t,n){n.d(t,{r:function(){return v}});var r=n(26042),o=n(69396),i=n(29815),a=n(33283),l=n(71939),u=n(47568),s=n(34051),c=n.n(s),d=function(){var e=(0,u.Z)(c().mark((function e(t){var n,r,o,i,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],0!==t.length){e.next=3;break}return e.abrupt("return",[]);case 3:return r=n?"https://trove-api-dev.treasure.lol/batch-tokens":"https://trove-api.treasure.lol/batch-tokens",o=t.map((function(e){var t=n?"".concat(e.collectionName,"-ag"):e.collectionName;return"".concat(t,"/").concat(e.id)})),e.next=7,fetch("".concat(r,"?").concat(new URLSearchParams({ids:o.join(",")}))).then((function(e){return e.json()}));case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f="/_next/static/media/broken-nft.3f871954.png",A=n(39666),m=n(33368),g=n(67294),p=n(88767),v=function(e){var t=(0,m.k8)(),n=(0,p.useQuery)(["userTokens",e],(function(){return a.ZP.getUserTokens({id:e.toLowerCase()})}),{enabled:!!e,refetchInterval:2e4,keepPreviousData:!0}),u=n.data,s=n.isLoading,c=(0,g.useMemo)((function(){var e=u||{},t=e.tokens,n=void 0===t?[]:t,r=e.stakedTokens,o=(void 0===r?[]:r).filter(Boolean).map(l.fq),a=new Set(o.filter(Boolean).map((function(e){return e.tokenId})));return(0,i.Z)(n.filter((function(e){var t=e.tokenId;return!a.has(t)})).map(l.qw)).concat((0,i.Z)(o)).sort((function(e,t){return Number.parseInt(e.tokenId)-Number.parseInt(t.tokenId)}))}),[u]),v=(0,g.useState)({status:"idle",smolTokens:{},swolTokens:{},smolCarTokens:{}}),h=v[0],w=v[1],k=(0,g.useMemo)((function(){return c.filter((function(e){var t=e.collectionId;return(0,A.FU)(t)}))}),[c]),b=(0,g.useMemo)((function(){return k.map((function(e){return h.smolCarTokens[e.tokenId]?(0,o.Z)((0,r.Z)({},e),{rawImage:e.image,image:h.smolCarTokens[e.tokenId].image.uri}):(0,o.Z)((0,r.Z)({},e),{rawImage:e.image,image:"failed"===h.status?e.image:f})}))}),[k,h.smolCarTokens,h.status]),E=(0,g.useMemo)((function(){return c.filter((function(e){var t=e.collectionId;return(0,A.hy)(t)}))}),[c]),T=(0,g.useMemo)((function(){return c.filter((function(e){var t=e.collectionId;return(0,A.bb)(t)}))}),[c]),C=(0,g.useMemo)((function(){return T.map((function(e){return h.smolTokens[e.tokenId]?(0,o.Z)((0,r.Z)({},e),{rawImage:e.image,image:h.smolTokens[e.tokenId].image.uri}):(0,o.Z)((0,r.Z)({},e),{rawImage:e.image,image:"failed"===h.status?e.image:f})}))}),[T,h.smolTokens,h.status]),I=(0,g.useMemo)((function(){return c.filter((function(e){var t=e.collectionId;return(0,A.D1)(t)}))}),[c]),y=(0,g.useMemo)((function(){return I.map((function(e){return h.swolTokens[e.tokenId]?(0,o.Z)((0,r.Z)({},e),{rawImage:e.image,image:h.swolTokens[e.tokenId].image.uri}):(0,o.Z)((0,r.Z)({},e),{rawImage:e.image,image:"failed"===h.status?e.image:f})}))}),[I,h.swolTokens,h.status]),R=(0,g.useMemo)((function(){return c.filter((function(e){var t=e.collectionId;return(0,A.Mc)(t)}))}),[c]),M=(0,g.useMemo)((function(){return c.filter((function(e){var t=e.stakeTime,n=e.stakeLocation;return t&&"Farm"===n}))}),[c]),S=(0,g.useMemo)((function(){return M.filter((function(e){var t=e.collectionId;return(0,A.D1)(t)}))}),[M]),D=(0,g.useMemo)((function(){return M.filter((function(e){var t=e.collectionId;return(0,A.bb)(t)}))}),[M]);return(0,g.useEffect)((function(){w((function(e){return(0,o.Z)((0,r.Z)({},e),{status:"fetching"})})),d((0,i.Z)(T.map((function(e){return{id:e.tokenId,collectionName:"smol-brains"}}))).concat((0,i.Z)(I.map((function(e){return{id:e.tokenId,collectionName:"smol-bodies"}}))),(0,i.Z)(k.map((function(e){return{id:e.tokenId,collectionName:"smol-cars"}})))),t).then((function(e){var t={},n={},r={},o=!0,i=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;switch(!0){case s.collectionUrlSlug.startsWith("smol-brains"):t[s.tokenId]=s;break;case s.collectionUrlSlug.startsWith("smol-bodies"):n[s.tokenId]=s;break;case s.collectionUrlSlug.startsWith("smol-cars"):r[s.tokenId]=s}}}catch(c){i=!0,a=c}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}w({status:"fetched",smolTokens:t,swolTokens:n,smolCarTokens:r})}))}),[T,k,I,t]),{isLoading:s,tokens:c,smolTokens:C,swolTokens:y,smolCars:b,swolCycles:E,smolTreasures:R,farmTokens:M,farmSmolTokens:D,farmSwolTokens:S}}},39666:function(e,t,n){n.d(t,{D1:function(){return s},FU:function(){return c},Mc:function(){return f},bb:function(){return u},hy:function(){return d}});var r=n(29815),o=n(33368),i=n(21434),a=(0,r.Z)(Object.values(o.re[i.b.arbitrum])).concat((0,r.Z)(Object.values(o.re[i.b.arbitrumGoerli]))).filter((function(e){return"0x0000000000000000000000000000000000000000"!==e}));if(a.length!==new Set(a).size)throw new Error("clasifier safecheck failed");var l=function(e,t){return t.toLowerCase()===o.re[i.b.arbitrum][e].toLowerCase()||t.toLowerCase()===o.re[i.b.arbitrumGoerli][e].toLowerCase()},u=function(e){return l("smolbrain",e)},s=function(e){return l("smolBodies",e)},c=function(e){return l("smolCar",e)},d=function(e){return l("swolercycles",e)},f=function(e){return l("treasures",e)}},71939:function(e,t,n){n.d(t,{YX:function(){return c},fq:function(){return s},qw:function(){return u}});var r={src:"/_next/static/media/smolbodies_overlay_gym.7e14b082.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAFVBMVEVMaXE4Q104Q1wyPFUxOlI9R19YZIGLSAG1AAAABnRSTlMAtJFHNHVgjcKFAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAJ0lEQVQImW3LuQ0AAAjDQCc8+4+MRAuurjHcsqASUNuthbQIg+N5Bgl1AD++oqFhAAAAAElFTkSuQmCC"},o={src:"/_next/static/media/smolbrains_overlay_school.c7dc190a.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXHfjpuETlcWAwbllaLrm6jSfYvThJHyoK32qLVzsSI7AAAACHRSTlMAfA4Gm8hVXQ6OWSsAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAsSURBVAiZY2BAAswQiomRlZWRiYGBgZGDk5OTEczg4OAAMZhYWNjZoMpQAAAQWwB1hU7JeQAAAABJRU5ErkJggg=="},i={src:"/_next/static/media/smolverse_overlay_farming.48c5fbcd.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEVMaXEoFxQZDAogFRRdYnYAAAB/iqM2IBxka4E9JyRTZYSOmrJEQU0xFw9eYXRveJJCUXN9g5nL8G1qAAAAEXRSTlMAQCYcVBSrZhjgM3RYw8eOSpUR0xoAAAAJcEhZcwAALiMAAC4jAXilP3YAAAAvSURBVAiZY2BAAA5+Nh5WMIOLT5AFLMTOy8YNpjlZBUAi7JzMDBwgAUYmJI1AJgAiLgDQkWMK1wAAAABJRU5ErkJggg=="},a={src:"/_next/static/media/smolverse_overlay_racing.df1199a2.png",height:60,width:60,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4+Pj4+Pg7sfp2AAAADHRSTlMAgLaRNqlEI9wWXFUsaT8TAAAACXBIWXMAAAFeAAABXgFfbG56AAAAMklEQVQImSXIwREAIAjEwHCIivbfrwPmtROANEvgRIQu4NtdBswt+QCWbNHV/qhfzcYDGNgAiQeSXjgAAAAASUVORK5CYII="},l=n(28666),u=function(e){var t,n,r,o=e.id,i=e.tokenId,a=e.name,l=e.description,u=e.image,s=e.video,c=e.collection.id,d=e.attributes;return{id:o,tokenId:i,name:a,description:l||void 0,image:u||void 0,video:s||void 0,collectionId:c.toLowerCase(),gender:(null===(t=d.find((function(e){return"gender"===e.name.toLowerCase()})))||void 0===t?void 0:t.value)||"unknown",headSize:(null===(n=d.find((function(e){return"head size"===e.name.toLowerCase()})))||void 0===n?void 0:n.value)||"0",attributes:null===(r=d||void 0)||void 0===r?void 0:r.filter((function(e){var t=e.name;return"IQ"!==t&&"Plates"!==t&&"head size"!==t&&"Swol Size"!==t})),rewardsClaimed:0}},s=function(e){var t,n,r,o,i=e.id,a=e.token,u=a.tokenId,s=a.name,c=a.description,d=a.image,f=a.collection.id,A=a.attributes,m=e.location,g=e.stakeTime,p=e.claims,v=null!==(o=null===p||void 0===p?void 0:p.map((function(e){var t=e.id,n=e.status,r=e.startTime,o=e.rewards,i=e.rewardsCount;return{id:t,status:n,startTime:new Date(1e3*r),rewards:o.map((function(e){return{id:e.id,quantity:1,token:{id:e.token.id,tokenId:e.token.tokenId,name:e.token.name,image:e.token.image||void 0,collectionId:e.token.collection.id.toLowerCase(),gender:"unknown",headSize:"0",rewardsClaimed:0}}})).sort((function(e,t){return t.token.tokenId-e.token.tokenId})),rewardsCount:i}})).sort((function(e,t){return t.startTime.getTime()-e.startTime.getTime()})))&&void 0!==o?o:[];return{id:i,tokenId:u,name:s,description:c||void 0,image:d||void 0,collectionId:f.toLowerCase(),attributes:null===(t=A||void 0)||void 0===t?void 0:t.filter((function(e){var t=e.name;return"IQ"!==t&&"Plates"!==t&&"head size"!==t&&"Swol Size"!==t})),stakeLocation:m,stakeTime:new Date(1e3*g),gender:(null===(n=A.find((function(e){return"gender"===e.name.toLowerCase()})))||void 0===n?void 0:n.value)||"unknown",headSize:(null===(r=A.find((function(e){return"head size"===e.name.toLowerCase()})))||void 0===r?void 0:r.value)||"0",claims:v,rewardsClaimed:(0,l.P)(v.map((function(e){return e.rewardsCount})))}},c=function(e){switch(e.stakeLocation){case"Farm":return i;case"Racing":return a;case"Gym":return r;default:return o}}},63325:function(e,t,n){n.d(t,{V:function(){return re}});var r=n(67294),o=n(32984),i=n(12351),a=n(23784),l=n(61363),u=n(64103),s=n(19946),c=n(82180),d=n(46045),f=n(84575),A=n(73781),m=n(45662),g=n(14879),p=n(51074),v=n(14007),h=n(81021);function w(e,t){let n=(0,r.useRef)([]),o=(0,A.z)(e);(0,r.useEffect)((()=>{for(let[e,r]of t.entries())if(n.current[e]!==r){let e=o(t);return n.current=t,e}}),[o,...t])}var k=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(k||{});let b=Object.assign((0,i.yV)((function(e,t){let n=(0,r.useRef)(null),l=(0,a.T)(n,t),{initialFocus:u,containers:s,features:k=30,...b}=e;(0,c.H)()||(k=1);let E=(0,p.i)(n);!function({ownerDocument:e},t){let n=(0,r.useRef)(null);(0,v.O)(null==e?void 0:e.defaultView,"focusout",(e=>{!t||n.current||(n.current=e.target)}),!0),w((()=>{t||((null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&(0,f.C5)(n.current),n.current=null)}),[t]);let o=(0,r.useRef)(!1);(0,r.useEffect)((()=>(o.current=!1,()=>{o.current=!0,(0,h.Y)((()=>{!o.current||((0,f.C5)(n.current),n.current=null)}))})),[])}({ownerDocument:E},Boolean(16&k));let T=function({ownerDocument:e,container:t,initialFocus:n},o){let i=(0,r.useRef)(null);return w((()=>{if(!o)return;let r=t.current;if(!r)return;let a=null==e?void 0:e.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===a)return void(i.current=a)}else if(r.contains(a))return void(i.current=a);null!=n&&n.current?(0,f.C5)(n.current):(0,f.jA)(r,f.TO.First)===f.fE.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement}),[o]),i}({ownerDocument:E,container:n,initialFocus:u},Boolean(2&k));!function({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let i=(0,g.t)();(0,v.O)(null==e?void 0:e.defaultView,"focus",(e=>{if(!o||!i.current)return;let a=new Set(null==n?void 0:n.current);a.add(t);let l=r.current;if(!l)return;let u=e.target;u&&u instanceof HTMLElement?function(e,t){var n;for(let r of e)if(null!=(n=r.current)&&n.contains(t))return!0;return!1}(a,u)?(r.current=u,(0,f.C5)(u)):(e.preventDefault(),e.stopPropagation(),(0,f.C5)(l)):(0,f.C5)(r.current)}),!0)}({ownerDocument:E,container:n,containers:s,previousActiveElement:T},Boolean(8&k));let C=(0,m.l)(),I=(0,A.z)((()=>{let e=n.current;!e||(0,o.E)(C.current,{[m.N.Forwards]:()=>(0,f.jA)(e,f.TO.First),[m.N.Backwards]:()=>(0,f.jA)(e,f.TO.Last)})})),y={ref:l};return r.createElement(r.Fragment,null,Boolean(4&k)&&r.createElement(d._,{as:"button",type:"button",onFocus:I,features:d.A.Focusable}),(0,i.sY)({ourProps:y,theirProps:b,defaultTag:"div",name:"FocusTrap"}),Boolean(4&k)&&r.createElement(d._,{as:"button",type:"button",onFocus:I,features:d.A.Focusable}))})),{features:k});var E=n(15466),T=n(16723);let C=new Set,I=new Map;function y(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function R(e){let t=I.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var M=n(73935);let S=(0,r.createContext)(!1);function D(){return(0,r.useContext)(S)}function P(e){return r.createElement(S.Provider,{value:e.force},e.children)}let F=r.Fragment,L=(0,i.yV)((function(e,t){let n=e,o=(0,r.useRef)(null),l=(0,a.T)((0,a.h)((e=>{o.current=e})),t),u=(0,p.i)(o),s=function(e){let t=D(),n=(0,r.useContext)(U),o=(0,p.i)(e),[i,a]=(0,r.useState)((()=>{if(!t&&null!==n||"undefined"==typeof window)return null;let e=null==o?void 0:o.getElementById("headlessui-portal-root");if(e)return e;if(null===o)return null;let r=o.createElement("div");return r.setAttribute("id","headlessui-portal-root"),o.body.appendChild(r)}));return(0,r.useEffect)((()=>{null!==i&&(null!=o&&o.body.contains(i)||null==o||o.body.appendChild(i))}),[i,o]),(0,r.useEffect)((()=>{t||null!==n&&a(n.current)}),[n,a,t]),i}(o),[d]=(0,r.useState)((()=>{var e;return"undefined"==typeof window?null:null!=(e=null==u?void 0:u.createElement("div"))?e:null})),f=(0,c.H)(),A=(0,r.useRef)(!1);return(0,T.e)((()=>{if(A.current=!1,s&&d)return s.contains(d)||(d.setAttribute("data-headlessui-portal",""),s.appendChild(d)),()=>{A.current=!0,(0,h.Y)((()=>{var e;!A.current||!s||!d||(s.removeChild(d),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))}))}}),[s,d]),f&&s&&d?(0,M.createPortal)((0,i.sY)({ourProps:{ref:l},theirProps:n,defaultTag:F,name:"Portal"}),d):null})),B=r.Fragment,U=(0,r.createContext)(null),Z=(0,i.yV)((function(e,t){let{target:n,...o}=e,l={ref:(0,a.T)(t)};return r.createElement(U.Provider,{value:n},(0,i.sY)({ourProps:l,theirProps:o,defaultTag:B,name:"Popover.Group"}))})),N=Object.assign(L,{Group:Z});var V=n(39516),O=n(16567);let Y=(0,r.createContext)((()=>{}));Y.displayName="StackContext";var x=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(x||{});function z({children:e,onUpdate:t,type:n,element:o}){let i=(0,r.useContext)(Y),a=(0,A.z)(((...e)=>{null==t||t(...e),i(...e)}));return(0,T.e)((()=>(a(0,n,o),()=>a(1,n,o))),[a,n,o]),r.createElement(Y.Provider,{value:a},e)}var Q,j=n(90292),_=((Q=_||{})[Q.Open=0]="Open",Q[Q.Closed=1]="Closed",Q),H=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(H||{});let J={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},W=(0,r.createContext)(null);function X(e){let t=(0,r.useContext)(W);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return t}function G(e,t){return(0,o.E)(t.type,J,e,t)}W.displayName="DialogContext";let q=i.AN.RenderStrategy|i.AN.Static,$=(0,i.yV)((function(e,t){let{open:n,onClose:u,initialFocus:f,__demoMode:m=!1,...g}=e,[h,w]=(0,r.useState)(0),k=(0,O.oJ)();void 0===n&&null!==k&&(n=(0,o.E)(k,{[O.ZM.Open]:!0,[O.ZM.Closed]:!1}));let M=(0,r.useRef)(new Set),S=(0,r.useRef)(null),D=(0,a.T)(S,t),F=(0,r.useRef)(null),L=(0,p.i)(S),B=e.hasOwnProperty("open")||null!==k,U=e.hasOwnProperty("onClose");if(!B&&!U)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!B)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!U)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof n)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if("function"!=typeof u)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${u}`);let Z=n?0:1,[Y,Q]=(0,r.useReducer)(G,{titleId:null,descriptionId:null,panelRef:(0,r.createRef)()}),_=(0,A.z)((()=>u(!1))),H=(0,A.z)((e=>Q({type:0,id:e}))),J=!!(0,c.H)()&&(!m&&0===Z),X=h>1,$=null!==(0,r.useContext)(W),K=X?"parent":"leaf";(function(e,t=!0){(0,T.e)((()=>{if(!t||!e.current)return;let n=e.current,r=(0,E.r)(n);if(r){C.add(n);for(let e of I.keys())e.contains(n)&&(R(e),I.delete(e));return r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of C)if(e.contains(t))return;1===C.size&&(I.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),y(e))}})),()=>{if(C.delete(n),C.size>0)r.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!I.has(e)){for(let t of C)if(e.contains(t))return;I.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),y(e)}}));else for(let e of I.keys())R(e),I.delete(e)}}}),[t])})(S,!!X&&J),(0,j.O)((()=>{var e,t;return[...Array.from(null!=(e=null==L?void 0:L.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter((e=>!(!(e instanceof HTMLElement)||e.contains(F.current)||Y.panelRef.current&&e.contains(Y.panelRef.current)))),null!=(t=Y.panelRef.current)?t:S.current]}),_,J&&!X),(0,v.O)(null==L?void 0:L.defaultView,"keydown",(e=>{e.defaultPrevented||e.key===l.R.Escape&&0===Z&&(X||(e.preventDefault(),e.stopPropagation(),_()))})),(0,r.useEffect)((()=>{var e;if(0!==Z||$)return;let t=(0,E.r)(S);if(!t)return;let n=t.documentElement,r=null!=(e=t.defaultView)?e:window,o=n.style.overflow,i=n.style.paddingRight,a=r.innerWidth-n.clientWidth;if(n.style.overflow="hidden",a>0){let e=a-(n.clientWidth-n.offsetWidth);n.style.paddingRight=`${e}px`}return()=>{n.style.overflow=o,n.style.paddingRight=i}}),[Z,$]),(0,r.useEffect)((()=>{if(0!==Z||!S.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&_()}));return e.observe(S.current),()=>e.disconnect()}),[Z,S,_]);let[ee,te]=(0,V.f)(),ne=`headlessui-dialog-${(0,s.M)()}`,re=(0,r.useMemo)((()=>[{dialogState:Z,close:_,setTitleId:H},Y]),[Z,Y,_,H]),oe=(0,r.useMemo)((()=>({open:0===Z})),[Z]),ie={ref:D,id:ne,role:"dialog","aria-modal":0===Z||void 0,"aria-labelledby":Y.titleId,"aria-describedby":ee};return r.createElement(z,{type:"Dialog",element:S,onUpdate:(0,A.z)(((e,t,n)=>{"Dialog"===t&&(0,o.E)(e,{[x.Add](){M.current.add(n),w((e=>e+1))},[x.Remove](){M.current.add(n),w((e=>e-1))}})}))},r.createElement(P,{force:!0},r.createElement(N,null,r.createElement(W.Provider,{value:re},r.createElement(N.Group,{target:S},r.createElement(P,{force:!1},r.createElement(te,{slot:oe,name:"Dialog.Description"},r.createElement(b,{initialFocus:f,containers:M,features:J?(0,o.E)(K,{parent:b.features.RestoreFocus,leaf:b.features.All&~b.features.FocusLock}):b.features.None},(0,i.sY)({ourProps:ie,theirProps:g,slot:oe,defaultTag:"div",features:q,visible:0===Z,name:"Dialog"})))))))),r.createElement(d._,{features:d.A.Hidden,ref:F}))})),K=(0,i.yV)((function(e,t){let[{dialogState:n,close:o}]=X("Dialog.Overlay"),l=(0,a.T)(t),c=`headlessui-dialog-overlay-${(0,s.M)()}`,d=(0,A.z)((e=>{if(e.target===e.currentTarget){if((0,u.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}})),f=(0,r.useMemo)((()=>({open:0===n})),[n]);return(0,i.sY)({ourProps:{ref:l,id:c,"aria-hidden":!0,onClick:d},theirProps:e,slot:f,defaultTag:"div",name:"Dialog.Overlay"})})),ee=(0,i.yV)((function(e,t){let[{dialogState:n},o]=X("Dialog.Backdrop"),l=(0,a.T)(t),u=`headlessui-dialog-backdrop-${(0,s.M)()}`;(0,r.useEffect)((()=>{if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[o.panelRef]);let c=(0,r.useMemo)((()=>({open:0===n})),[n]);return r.createElement(P,{force:!0},r.createElement(N,null,(0,i.sY)({ourProps:{ref:l,id:u,"aria-hidden":!0},theirProps:e,slot:c,defaultTag:"div",name:"Dialog.Backdrop"})))})),te=(0,i.yV)((function(e,t){let[{dialogState:n},o]=X("Dialog.Panel"),l=(0,a.T)(t,o.panelRef),u=`headlessui-dialog-panel-${(0,s.M)()}`,c=(0,r.useMemo)((()=>({open:0===n})),[n]),d=(0,A.z)((e=>{e.stopPropagation()}));return(0,i.sY)({ourProps:{ref:l,id:u,onClick:d},theirProps:e,slot:c,defaultTag:"div",name:"Dialog.Panel"})})),ne=(0,i.yV)((function(e,t){let[{dialogState:n,setTitleId:o}]=X("Dialog.Title"),l=`headlessui-dialog-title-${(0,s.M)()}`,u=(0,a.T)(t);(0,r.useEffect)((()=>(o(l),()=>o(null))),[l,o]);let c=(0,r.useMemo)((()=>({open:0===n})),[n]);return(0,i.sY)({ourProps:{ref:u,id:l},theirProps:e,slot:c,defaultTag:"h2",name:"Dialog.Title"})})),re=Object.assign($,{Backdrop:ee,Panel:te,Overlay:K,Title:ne,Description:V.d})}}]);